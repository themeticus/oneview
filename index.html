<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge"> 
		<meta name="viewport" content="width=device-width, initial-scale=1"> 
		<title>WeFlix by OneLove</title>
		<meta name="description" content="Draggable Dual-View Slideshow: A Slideshow with two views and content area" />
		<meta name="keywords" content="draggable, slideshow, fullscreen, carousel, views, zoomed, 3d transform, perspective, dragdealer" />
		<meta name="author" content="Codrops" />
		<link rel="shortcut icon" href="favicon.ico">
		<link href='https://fonts.googleapis.com/css?family=Anton:900,400|Lato:300,400,700' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/demo.css" />
		<link rel="stylesheet" type="text/css" href="css/dragdealer.css" />
		<link rel="stylesheet" type="text/css" href="css/component.css" />
  		<script src="js/modernizr.custom.js"></script>
		  <style>
			.img-wrap {
				background: black !important;
				opacity: .5 !important;
			}

			.overlay {
				background: #141E30 !important; 
background: -webkit-linear-gradient(to right, #243B55, #141E30);  
background: linear-gradient(to right, #243B55, #141E30); 
			}

			#slideshow {
				/* background-image: url('https://wallpaperaccess.com/full/3014121.jpg'); */
				background: #141E30 !important; 
background: -webkit-linear-gradient(to right, #243B55, #141E30);  
background: linear-gradient(to right, #243B55, #141E30); 
			}

			.onelayer {
				width:100%;
				height:100vh;
				background-color:red;

			}
		  </style>
		  <script>
			  let thePrestige = 'https://vk.com/video_ext.php?oid=-102904422&id=456239797&hash=033dae6191a867db&wallpost=false&name=beep'
		  </script>
	</head>
	<body>
		<div class="container" >

			<header id="header" class="codrops-header">
				<button class="slider-switch">Switch view</button>
			</header>

			<div id="overlay" class="overlay">
				<div class="info">
					<button><img src="favicon.ico" /></button>	
				</div>
			</div>

			<div id="slideshow" class="dragslider">
				<section class="img-dragger img-dragger-large dragdealer" >
					<div class="handle" >
						<div class="slide" 
							data-content="content-1" 
							data-src="https://vk.com/video_ext.php?oid=-102904422&id=456239797&hash=033dae6191a867db&wallpost=false&name=beep"
							style="background-image:url('img/poster/the-prestige-poster.jpg'); background-size: cover;">
							<div class="img-wrap"></div>
							<h2>The Prestige<span><i>Christopher Nolan</i></span></h2>
							<button class="content-switch">Read more</button>
						</div>
						<div class="slide" data-content="content-2" style="background-image:url('img/poster/the-beach-poster.jpeg'); background-size: cover;">
							<div class="img-wrap"></div>
							<h2>The Beach<span><i>Danny Boyle</i></span></h2>
							<button class="content-switch">Read more</button>
						</div>	
						<div class="slide" data-content="content-3" style="background-image:url('img/poster/fight-club-poster-1.jpeg'); background-size: cover;">
							<div class="img-wrap"></div>
							<h2>Fight Club<span> <i>David Fincher</i></span></h2>
							<button class="content-switch">Read more</button>
						</div>
						<div class="slide" data-content="content-4" style="background-image:url('img/poster/the-pianist.jpeg'); background-size: cover;">
							<div class="img-wrap"></div>
							<h2>The Pianist<span> <i>Steven Spielberg</i></span></h2>
							<button class="content-switch">Read more</button>
						</div>												
						<div class="slide" data-content="content-5" style="background-image:url('img/poster/the-departed-2.jpeg'); background-size: cover;">
							<div class="img-wrap"></div>
							<h2>The Departed<span> <i>Martin Scorscese</i></span></h2>
							<button class="content-switch">Read more</button>
						</div>	
						<div class="slide" data-content="content-6" style="background-image:url('img/poster/factory-girl.jpg'); background-size: cover;">
							<div class="img-wrap"></div>
							<h2>Factory Girl<span><i>George Hickenlooper</i></span></h2>
							<button class="content-switch">Read more</button>
						</div>
						<div class="slide" data-content="content-7" style="background-image:url('img/poster/a-beautiful-mind.jpeg'); background-size: cover;">
							<div class="img-wrap"></div>
							<h2>A Beautiful Mind <span>Ron Howard</span></h2>
							<button class="content-switch">Read more</button>
						</div>
						<div class="slide" data-content="content-8" style="background-image:url('img/poster/juno.jpeg'); background-size: cover;">
							<div class="img-wrap"></div>
							<h2>Juno<span>Jason Reitman</span></h2>
							<button class="content-switch">Read more</button>
						</div>
						<div class="slide" data-content="content-9" style="background-image:url('img/poster/mr-brooks.jpeg'); background-size: cover;">
							<div class="img-wrap"></div>
							<h2>Mr Brooks <span> Bruce A. Evans</span></h2>
							<button class="content-switch">Read more</button>
						</div>
						<div class="slide" data-content="content-10" style="background-image:url('img/poster/ronin.jpg'); background-size: cover;">
							<div class="img-wrap"></div>
							<h2>Ronin  <span> John Frankenheimer</span></h2>
							<button class="content-switch">Read more</button>
						</div>
						<div class="slide" data-content="content-11" style="background-image:url('img/poster/atonement.jpg'); background-size: cover;">
							<div class="img-wrap"></div>
							<h2>Atonement <span> Joe Wright</span></h2>
							<button class="content-switch">Read more</button>
						</div>
						<div class="slide" data-content="content-12" style="background-image:url('img/poster/the-majestic.jpeg'); background-size: cover;">
							<div class="img-wrap"></div>
							<h2>The Majestic <span> Frank Darabont</span></h2>
							<button class="content-switch">Read more</button>
						</div>
			
					</div>
				</section><!-- /img-dragger-->
				<!-- Content section -->
				<section class="pages">


					<div class="content" data-content="content-1" id="onePlayer">
						<!-- <div style="width:100px; height:100px; background-color:red; position:absolute; top:0; left:0; z-index:999999999999">beeeeeeep</div> -->
						<iframe  width="100%"
							height="100%" 
							src="https://vk.com/video_ext.php?oid=-44055899&id=168346213&hash=1921f08867a2d2a6" 
							allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"  
							frameborder="0" 
							allowfullscreen="" 
							class="onePlayer"
							id="onePlayeriFrame"
							scrolling="no">
						</iframe>
					</div>
					<div class="content" data-content="content-2">
						<iframe  width="100%"
							height="100%" 
							src="https://vk.com/video_ext.php?oid=-73707971&id=456239828&hash=b4ef9416c75eb852" 
							allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"  
							frameborder="0" 
							allowfullscreen="" 
							class="onePlayer"
							id="onePlayeriFrame"
							scrolling="no">
						</iframe>						
						
					</div>		
					<div class="content" data-content="content-3">

					</div>
					<div class="content" data-content="content-4">

					</div>								
					<div class="content" data-content="content-5">
					


					</div>
					<div class="content" data-content="content-6">
						<h2>Movie<span><i>coming soon...</i></span></h2>

					</div>
					<div class="content" data-content="content-7">
						<h2>Movie<span><i>coming soon...</i></span></h2>

					</div>
					<div class="content" data-content="content-8">
						<h2>Movie<span><i>coming soon...</i></span></h2>

					</div>
					<div class="content" data-content="content-9">
						<h2>Movie<span><i>coming soon...</i></span></h2>

					</div>
					<div class="content" data-content="content-10">
						<h2>Movie<span><i>coming soon...</i></span></h2>

					</div>
					<div class="content" data-content="content-11">
						<h2>Movie<span><i>coming soon...</i></span></h2>

					</div>		
					<div class="content" data-content="content-12">
						<h2>Movie<span><i>coming soon...</i></span></h2>

					</div>													
				</section>
			</div>
		</div><!-- /container --> 
		<script src="js/dragdealer.js"></script>
		<script src="js/classie.js"></script>
		<script src="js/dragslideshow.js"></script>
		<script>
			let tq = null;
			
			(function() {

				

				var overlay = document.getElementById( 'overlay' ),
					overlayClose = overlay.querySelector( 'button' ),
					header = document.getElementById( 'header' )
					switchBtnn = header.querySelector( 'button.slider-switch' ),
					toggleBtnn = function() {
						// if( slideshow.isFullscreen ) {
						// 	classie.add( switchBtnn, 'view-maxi' );
						// }
						// else {
						// 	classie.remove( switchBtnn, 'view-maxi' );
						// }
					},
					toggleCtrls = function() {
						if( !slideshow.isContent ) {
							classie.add( header, 'hide' );
						}
					},
					toggleCompleteCtrls = function() {
						if( !slideshow.isContent ) {
							classie.remove( header, 'hide' );
						}
					},
					slideshow = new DragSlideshow( document.getElementById( 'slideshow' ), { 
						// toggle between fullscreen and minimized slideshow
						onToggle : toggleBtnn,
						// toggle the main image and the content view
						onToggleContent : toggleCtrls,
						// toggle the main image and the content view (triggered after the animation ends)
						onToggleContentComplete : toggleCompleteCtrls
					}),
					toggleSlideshow = function() {
						slideshow.toggle();
						toggleBtnn();
					},
					closeOverlay = function() {
						classie.add( overlay, 'hide' );
					};

				// toggle between fullscreen and small slideshow
				switchBtnn.addEventListener( 'click', toggleSlideshow );
				// close overlay
				overlayClose.addEventListener( 'click', closeOverlay );

				document.querySelectorAll('.content-switch').forEach( (x) => ( 
					x.addEventListener('click' , 
					function(e) { 
						setVideo();
						changeStuff();
						// console.log(document.querySelector('.current').dataset.src)
					}
				)))

				function setVideo() {
					// const currentSrc = this.parentElement.dataset.src;
					// console.log(this, currentSrc)
					// console.log('beep');
				}

				function changeStuff() {
					// const iframeWindow = document.getElementById('onePlayer').contentWindow;
					// const iframeDocument = document.getElementById('onePlayer').contentDocument;
					// console.log(iframeWindow, iframeDocument)
				}
				//   document.querySelectorAll('.videoplayer_title_link')[0].innerText='Apollo 13';

				function setCookie(name,value,days) {
					var expires = "";
					if (days) {
						var date = new Date();
						date.setTime(date.getTime() + (days*24*60*60*1000));
						expires = "; expires=" + date.toUTCString();
					}
				document.cookie = name + "=" + (value || "")  + expires + "; path=/";
				}
				function getCookie(name) {
					var nameEQ = name + "=";
					var ca = document.cookie.split(';');
					for(var i=0;i < ca.length;i++) {
						var c = ca[i];
						while (c.charAt(0)==' ') c = c.substring(1,c.length);
						if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
					}
					return null;
				}

				setCookie("tq","tq",30); //set "user_email" cookie, expires in 30 days
				var userEmail=getCookie("tq");//"bobthegreat@gmail.com"

				setTimeout(() => { console.clear() }, 10000);

			}());
		</script>
	</body>
</html>